<!DOCTYPE html>
<html>
<head>
  <title>Pagamento</title>
</head>
<body onload="loadPaymentDetails()">
  <h1>Pagamento</h1>

  <p>Tempo cronometrado: <span id="elapsed-time"></span> horas</p>
  <p>Preço do carro selecionado: R$ <span id="car-price"></span></p>
  <p>Preço total: R$ <span id="total-price"></span></p>

  <label for="payment-method">Forma de pagamento:</label>
  <select id="payment-method">
    <option value="credito">Crédito</option>
    <option value="debito">Débito</option>
    <option value="pix">PIX</option>
  </select>

  <label for="rating">Avaliação:</label>
  <select id="rating">
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
  </select>

  <button onclick="finalizePurchase()">Finalizar</button>

  <script>
    function loadPaymentDetails() {
      const elapsedTime = localStorage.getItem('elapsedTime');
      const selectedCar = JSON.parse(localStorage.getItem('selectedCar'));
      const carPrice = parseFloat(selectedCar.price);
      const elapsedTimeInHours = (parseFloat(elapsedTime) / (1000 * 60 * 60)).toFixed(4);

      document.getElementById('elapsed-time').textContent = elapsedTimeInHours;
      document.getElementById('car-price').textContent = carPrice.toFixed(2);
      document.getElementById('total-price').textContent = (parseFloat(elapsedTimeInHours) * carPrice).toFixed(2);
    }

    function finalizePurchase() {
      const paymentMethod = document.getElementById('payment-method').value;
      const rating = document.getElementById('rating').value;


      localStorage.clear();

      window.location.href = "pagFin.html";
    }
  </script>
</body>
</html>
